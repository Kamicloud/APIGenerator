buildscript {
    repositories {
        mavenLocal()
        mavenCentral()
        maven { url "https://repo.spring.io/plugins-release" }
        maven { url "https://plugins.gradle.org/m2/" }
    }
    dependencies {
        classpath "org.springframework.boot:spring-boot-gradle-plugin:2.2.3.RELEASE"
        classpath "gradle.plugin.com.gorylenko.gradle-git-properties:gradle-git-properties:1.5.2"
    }
}

wrapper {
    gradleVersion = '6.4'
}
allprojects {
//    version = "1.0"
    repositories {
        mavenLocal()
        maven { url "https://repo.spring.io/plugins-release" }
        maven { url "https://plugins.gradle.org/m2/" }
        jcenter()
        // ADD IT HERE
        maven { url "https://jitpack.io" }
    }
}


subprojects {
	apply plugin: 'java'
	apply plugin: 'maven'


    jar {
        manifest {
            attributes 'Implementation-Title': 'Gradle Quickstart',
//                'Implementation-Version': version,
                'Main-Class': 'hello.helloWorld'
        }
    }

	task sourcesJar(type: Jar, dependsOn: classes) {
        archiveClassifier.set('sources')
        manifest.attributes.put('Main-Class', 'xxx')
//        manifest {
//            setProperty('Main-Class', 'xxxx')
//        }
//        archiveClassifier.set('', 'xxx')
        from sourceSets.main.java.outputDir
	}
	task sourcesJarx(type: Jar, dependsOn: classes) {
	    from sourceSets.main.java.outputDir
	}

	task javadocJar(type: Jar, dependsOn: javadoc) {
        archiveClassifier.set('javadoc')
	    from javadoc.destinationDir
	}

	artifacts {
        archives sourcesJarx
	    archives sourcesJar
	    archives javadocJar
	}
}
